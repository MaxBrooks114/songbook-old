<%= form_for [@user, @element], validate: true do |f| %>
<%= render partial: 'layouts/errors', locals: {object: @element} %>
<%= f.hidden_field :user_id, :value => @user.id %>
<fieldset>
  <%= f.label :name %>
  <%= f.select :e_name, Element.names %></br>
<%= f.label :song %><br>
<%= f.collection_select :song_id, @user.songs, :id, :title %><br>
<%= f.label :instrument %><br>
<%= f.collection_select :instrument_id, @user.instruments, :id, :display_name %><br>
<%= f.label :key %>
<%= f.select :key, Element.keys %><br/>
<%= f.label :tempo %>
<%= f.text_field :tempo %><br/>
<%= f.label :lyrics %><br>
<%= f.text_area :lyrics %><br>
<%= f.label :learned %>
<%= f.check_box :learned %><br/>
<%= f.label :sheet_music %>
<%= f.file_field :sheet_music, direct_upload: true %><br/>
<%= f.hidden_field :sheet_music, value: f.object.sheet_music.signed_id if f.object.sheet_music.attached? %>
<% if @element.sheet_music.attached? %>
  <%= f.label :delete_sheet_music %>
  <%= f.check_box :delete_sheet_music %><br/>
<% end %>
<%= f.label :recording %>
<%= f.file_field :recording %><br/>
<%= f.hidden_field :recording, value: f.object.recording.signed_id if f.object.recording.attached? %>
<% if @element.recording.attached? %>
  <%= f.label :delete_recording %>
  <%= f.check_box :delete_recording %><br/>
<% end %>
</fieldset>
<%= f.submit @element.new_record? ? "Add element" : "Update element" %>
<% end %>