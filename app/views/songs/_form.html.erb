<% if flash[:notice] %>
  <%= flash[:notice] %>
<% end %><br>



<%= form_for @song do |f| %>
<%= f.label :title %><br>
<%= f.text_field :title %><br>
<%= f.label :artist %><br>
<%= f.text_field :artist %><br>
<%= f.label :album %><br>
<%= f.text_field :album%><br>
<%= f.label :genre %><br>
<%= f.select :genre, Song.genres.sort %><br>
<%= f.label :Instruments %><br>
<%= f.collection_check_boxes(:instrument_ids, Instrument.all, :id, :name_with_range) %><br>
 <% if !@song.new_record?%>
    <%= f.label "Song Elements" %><br />
    <%= f.fields_for :elements do |e| %>
      <%= e.label :name %>
      <%= e.select :name, Element.names %><br>
      <%= e.label :instrument %>
      <%= e.select :instrument, @song.instruments.collect {|i| i.name }  %><br>
    <%end%>
  <%end%>

<%= f.label :lyrics %><br>
<%= f.text_area :lyrics %><br>
<%= f.submit @song.new_record? ? "Add Song" : "Update Song" %>
<%end%>
